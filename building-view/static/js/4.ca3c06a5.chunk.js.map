{"version":3,"sources":["pages/section/section.module.scss","pages/section/Section.jsx"],"names":["module","exports","console","log","style","HOUSE_TYPE_DATA","type1","displayTitle","tableTitle","displayImage","columns","title","children","dataIndex","key","data","roomParts","areaValue","type2","type3","combinationKey","useState","showDrawerStatus","updateShowDrawerStatus","currentHouseType","updateCurrentHouseType","scrollValue","updateScrollValue","houseDataRefs","createRef","houseTypeItem","useEffect","keydownHandle","evt","keyCode","isCommandKeyCode","preventDefault","keyupHandle","document","addEventListener","removeEventListener","current","offsetHeight","className","src","width","closable","visible","Title","level","ref","dataSource","pagination","scroll","y"],"mappings":"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","file":"static/js/4.ca3c06a5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section-page\":\"section_section-page__16tSA\",\"iframe\":\"section_iframe__25l_v\"};","import React, { createRef, useEffect, useState } from 'react';\nimport { Drawer, Table, Typography } from 'antd';\n// import { useParams } from 'react-router-dom';\nimport style from './section.module.scss';\nimport './section.scss';\n\nconsole.log(style);\n\nconst HOUSE_TYPE_DATA = {\n  type1: {\n    displayTitle: '户型一展示图',\n    tableTitle: '户型一详情',\n    displayImage: 'type-1',\n    columns: [\n      {\n        title: '户型 1',\n        children: [\n          {\n            title: '房间',\n            dataIndex: 'roomParts',\n            key: 'roomParts'\n          },\n          {\n            title: '面积（平方米）',\n            dataIndex: 'areaValue',\n            key: 'areaValue'\n          }\n        ]\n      }\n    ],\n    data: [\n      { key: '居室', roomParts: '居室', areaValue: '18.5' },\n      { key: '厨房', roomParts: '厨房', areaValue: '2.1' },\n      { key: '卫生间', roomParts: '卫生间', areaValue: '1.6' },\n      { key: '总计', roomParts: '总计', areaValue: '22.2' }\n    ]\n  },\n  type2: {\n    displayTitle: '户型二展示图',\n    tableTitle: '户型二详情',\n    displayImage: 'type-2',\n    columns: [\n      {\n        title: '户型 2',\n        children: [\n          {\n            title: '房间',\n            dataIndex: 'roomParts',\n            key: 'roomParts'\n          },\n          {\n            title: '面积（平方米）',\n            dataIndex: 'areaValue',\n            key: 'areaValue'\n          }\n        ]\n      }\n    ],\n    data: [\n      { key: '居室 A', roomParts: '居室 A', areaValue: '18.5' },\n      { key: '居室 B', roomParts: '居室 B', areaValue: '28' },\n      { key: '居室 C', roomParts: '居室 C', areaValue: '24' },\n      { key: '居室 D', roomParts: '居室 D', areaValue: '18.5' },\n      { key: '厨房 A', roomParts: '厨房 A', areaValue: '5.2' },\n      { key: '厨房 B', roomParts: '厨房 B', areaValue: '3.6' },\n      { key: '客厅 A', roomParts: '客厅 A', areaValue: '10' },\n      { key: '客厅 B', roomParts: '客厅 B', areaValue: '10' },\n      { key: '卫生间 A', roomParts: '卫生间 A', areaValue: '5.2' },\n      { key: '卫生间 B', roomParts: '卫生间 B', areaValue: '3.6' },\n      { key: '总计', roomParts: '总计', areaValue: '126.6' }\n    ]\n  },\n  type3: {\n    displayTitle: '户型三展示图',\n    tableTitle: '户型三详情',\n    displayImage: 'type-3',\n    columns: [\n      {\n        title: '户型 3',\n        children: [\n          {\n            title: '房间',\n            dataIndex: 'roomParts',\n            key: 'roomParts'\n          },\n          {\n            title: '面积（平方米）',\n            dataIndex: 'areaValue',\n            key: 'areaValue'\n          }\n        ]\n      }\n    ],\n    data: [\n      { key: '居室 A', roomParts: '居室 A', areaValue: '32' },\n      { key: '居室 B', roomParts: '居室 B', areaValue: '28' },\n      { key: '居室 C', roomParts: '居室 C', areaValue: '24' },\n      { key: '厨房', roomParts: '厨房', areaValue: '5.2' },\n      { key: '卫生间 A', roomParts: '卫生间 A', areaValue: '5.2' },\n      { key: '客厅 A', roomParts: '客厅 A', areaValue: '10' },\n      { key: '客厅 B', roomParts: '客厅 B', areaValue: '8.2' },\n      { key: '卫生间 B', roomParts: '卫生间 B', areaValue: '3.6' },\n      { key: '总计', roomParts: '总计', areaValue: '116.2' }\n    ]\n  }\n};\n\nlet combinationKey = false;\n\nexport default function() {\n  const [showDrawerStatus, updateShowDrawerStatus] = useState(false);\n  const [currentHouseType, updateCurrentHouseType] = useState(1);\n  const [scrollValue, updateScrollValue] = useState(300);\n  const houseDataRefs = createRef();\n  // const params = useParams();\n  const typeId = currentHouseType % 3 || 3;\n  const houseTypeItem = HOUSE_TYPE_DATA[`type${typeId}`];\n\n  useEffect(() => {\n    const keydownHandle = evt => {\n      const { keyCode } = evt;\n      const isCommandKeyCode = keyCode === 91 || keyCode === 93;\n\n      console.log(keyCode);\n\n      if (isCommandKeyCode) {\n        combinationKey = true;\n      }\n\n      if (combinationKey && !isCommandKeyCode) {\n        switch (keyCode) {\n          case 74:\n            evt.preventDefault();\n            currentHouseType > 1 &&\n              updateCurrentHouseType(currentHouseType - 1);\n            break;\n          case 75:\n            evt.preventDefault();\n            updateShowDrawerStatus(!showDrawerStatus);\n            break;\n          case 76:\n            evt.preventDefault();\n            updateCurrentHouseType(currentHouseType + 1);\n            break;\n          default:\n            break;\n        }\n      }\n    };\n    const keyupHandle = evt => {\n      const { keyCode } = evt;\n      const isCommandKeyCode = keyCode === 91 || keyCode === 93;\n\n      if (isCommandKeyCode) {\n        combinationKey = false;\n      }\n    };\n    document.addEventListener('keydown', keydownHandle);\n    document.addEventListener('keyup', keyupHandle);\n    return () => {\n      document.removeEventListener('keydown', keydownHandle);\n      document.removeEventListener('keyup', keyupHandle);\n    };\n  }, [showDrawerStatus, currentHouseType]);\n\n  useEffect(() => {\n    if (houseDataRefs.current) {\n      const { offsetHeight = 300 } = houseDataRefs.current || {};\n      updateScrollValue((offsetHeight || 400) - 150);\n    }\n  }, [houseDataRefs]);\n\n  return (\n    <div className={style['section-page']}>\n      <iframe\n        className={style['iframe']}\n        src=\"http://116.228.152.154:18081/rvtView/rvtView/indexpm.html\"\n        title=\"剖面图\"\n      ></iframe>\n      <Drawer width={520} closable={false} visible={showDrawerStatus}>\n        <div className=\"drawer-container\">\n          <div className=\"house-type-display\">\n            <Typography.Title level={4}>\n              {houseTypeItem.displayTitle}\n            </Typography.Title>\n            <div className={`house-image ${houseTypeItem.displayImage}`}></div>\n          </div>\n          <div ref={houseDataRefs} className=\"house-type-data\">\n            <Typography.Title level={4}>\n              {houseTypeItem.tableTitle}\n            </Typography.Title>\n            <Table\n              columns={houseTypeItem.columns}\n              dataSource={houseTypeItem.data}\n              pagination={false}\n              scroll={{ y: scrollValue }}\n            ></Table>\n          </div>\n        </div>\n      </Drawer>\n    </div>\n  );\n}\n"],"sourceRoot":""}